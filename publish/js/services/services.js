define(["angular"],function(e){var o=e.module("services",[]);return o.factory("httpService",["$http","$rootScope","$cookies","$q",function(e,o,r,s){var l="http://172.16.10.246:8900/dlicense/v1/";return{http:function(a,n,i){showDiv(),o.globals=r.getObject("globals");var t={};null!=o.globals&&(t={ReqUserSession:o.globals.loginSession,ReqUserId:o.globals.userid,ReqType:"manage"},o.globals.groupId&&"undefined"!=o.globals.groupId&&(t.ManageGroupId=o.globals.groupId),o.globals.groupType&&"undefined"!=o.globals.groupType&&(t.ManageGroupType=o.globals.groupType)),i&&jQuery.extend(t,i);var u=s.defer();return e({method:"get",url:l+a,params:n,cache:!1,headers:t}).success(function(e,o,r,s){hideDiv(),u.resolve(e)}).error(function(e,o,r,s){hideDiv(),u.reject(e)}),u.promise},httpJson:function(a,n,i){showDiv(),o.globals=r.getObject("globals");var t={};null!=o.globals&&(t={ReqUserSession:o.globals.loginSession,ReqUserId:o.globals.userid,ReqType:"manage"},o.globals.groupId&&"undefined"!=o.globals.groupId&&(t.ManageGroupId=o.globals.groupId),o.globals.groupType&&"undefined"!=o.globals.groupType&&(t.ManageGroupType=o.globals.groupType)),i&&jQuery.extend(t,i);var u=s.defer();return e({method:"post",url:l+a,data:n,cache:!1,headers:t}).success(function(e,o,r,s){hideDiv(),u.resolve(e)}).error(function(e,o,r,s){hideDiv(),u.reject(e)}),u.promise},httpFile:function(a,n,i){showDiv(),o.globals=r.getObject("globals");var t={};null!=o.globals&&(t={ReqUserSession:o.globals.loginSession,ReqUserId:o.globals.userid,ReqType:"manage"},o.globals.groupId&&"undefined"!=o.globals.groupId&&(t.ManageGroupId=o.globals.groupId),o.globals.groupType&&"undefined"!=o.globals.groupType&&(t.ManageGroupType=o.globals.groupType)),i&&jQuery.extend(t,i);var u={method:"post",url:l+a,data:n,headers:t,transformRequest:function(e){var o=new FormData;return o.append("file",e.file),o}},g=s.defer();return e(u).success(function(e,o,r,s){hideDiv(),g.resolve(e)}).error(function(e,o,r,s){hideDiv(),g.reject(e)}),g.promise}}}]),o.factory("Msg",["$timeout",function(o){return function(r,s){var l="";return e.isObject(r)?l=r.msg:e.isString(r)?l=r:$.each(r.data,function(e,o){l=o,$("#"+e).focus()}),$(".alert > span").html(l),$(".alert > span").css("color","red"),$(".alert").css("visibility","visible"),$(".alert").show(),0!=s&&null!=s&&o(function(){$(".alert").css("visibility","hidden"),$(".alert").hide()},s),!0}}]),o});