define(["jquery","angular","angular_route","ngCookies","encryption","common","./controllers/index","./directives/index","./filters/index","./services/index"],function(e,r,t,l,o){var n=r.module("app",["ngCookies","ui.router","services","directives","filters","controllers"]);return n.run(["$rootScope","$state","$stateParams","$location","$cookies",function(e,r,t,l,o){e.$state=r,e.$stateParams=t,e.globals=o.getObject("globals"),e.$on("$locationChangeStart",function(t,n,i){"/login"==l.url()&&(o.remove(),e.globals=null),null==e.globals&&("/register"==l.url()||"/retrieve"==l.url()||("login.html"==n.templateUrl?console.debug("用户未登录"):r.go("login")))})}]),n.config(["$urlRouterProvider","$stateProvider",function(e,r){e.otherwise("login"),r.state("login",{url:"/login",views:{"mainheader@":{},maincontent:{templateUrl:"login.html",controller:"loginController"},"footer@":{}}}).state("lifesystem",{url:"/lifesystem",views:{"mainheader@":{templateUrl:"header.html",controller:"headerController"},maincontent:{templateUrl:"menu.html",controller:"menuController"},"footer@":{}}}).state("lifesystem.subscribe",{url:"/subscribe",views:{"mainheader@":{templateUrl:"header.html",controller:"headerController"},maincontent:{templateUrl:"page_subscribe/history.html",controller:"subController"},"footer@":{}}})}]),n});